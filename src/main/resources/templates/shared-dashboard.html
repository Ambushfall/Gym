<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
</head>
<body>

<h1>Dobrodo≈°ao, <span th:text="${username}">korisnik</span>!</h1>
<h2>Uloga: <span th:text="${role}">uloga</span></h2>

<div th:switch="${role}">

    <!-- ADMIN SEKCIONI SADR≈ΩAJ -->
    <div th:case="'ADMIN'">
        <h3>ADMIN PANEL</h3>
        <ul>
            <li><a th:href="@{/users}">Table Users</a></li>
            <li><a th:href="@{/members}">Table Memembers</a></li>
            <li><a th:href="@{/trainers}">Table Trainers</a></li>
            <li><a th:href="@{/sessions}">Table Sessions</a></li>
            <li><a th:href="@{/feeback}">Table Feedback</a></li>
        </ul>

    </div>


    <!-- ======================= TRAINER PANEL ======================= -->
    <div th:case="'TRAINER'">
        <h2>Trener ‚Äì Moje trening sesije</h2>
        <table border="1">
            <tr>
                <!-- <th>ID</th> -->
                <th>Title</th>
                <th>Description</th>
                <th>Date</th>
                <th>Member's name</th>
                <th>Trainer's name</th>
            </tr>
            <tr th:each="s : ${sessions}">
                <!-- <td th:text="${s.id}"></td> -->
                <td th:text="${s.title}"></td>
                <td th:text="${s.description}"></td>
                <td th:text="${s.date}"></td>
                <td th:text="${s.member != null ? s.member.name : ''}"></td>
                <td th:text="${s.trainer != null ? s.trainer.name : ''}"></td>
            </tr>
        </table>

        <h2>Ocene i komentari</h2>
        <ul>
            <li th:each="f : ${myFeedbacks}">
                Od <b th:text="${f.member.name}"></b>: "<span th:text="${f.content}"></span>" (<span
                    th:text="${f.rating}"></span>/5)
            </li>
        </ul>
    </div>

    <!-- ======================= MEMBER PANEL ======================= -->
    <!-- ======================= MEMBER PANEL ======================= -->
    <div th:case="'MEMBER'">

        <h2>Svi dostupni treneri</h2>
        <table border="1">
            <thead>
            <tr>
                <th>ID</th>
                <th>Ime</th>
                <th>Specijalizacija</th>
                <th>Email</th>
                <th>Akcija</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="t : ${trainers}">
                <td th:text="${t.id}"></td>
                <td th:text="${t.name}"></td>
                <td th:text="${t.specialization}"></td>
                <td th:text="${t.appUser != null ? t.appUser.email : ''}"></td>
                <td>
                    <form th:action="@{'/member/like/' + ${t.id}}" method="post" style="display:inline">
                        <button type="submit">‚ù§Ô∏è Lajkuj</button>
                    </form>
                    <form th:action="@{'/member/unlike/' + ${t.id}}" method="post" style="display:inline">
                        <button type="submit">üíî Ukloni</button>
                    </form>
                </td>
            
            </tr>
            </tbody>
        </table>

<!--        <h2>Treneri koje si lajkovao</h2>-->
<!--        <ul>-->
<!--            <li th:each="lt : ${likedTrainers}">-->
<!--                <span th:text="${lt.name}"></span> ‚Äî <span th:text="${lt.specialization}"></span>-->
<!--            </li>-->
<!--        </ul>-->

    </div>


    <p><a th:href="@{/logout}">Odjavi se</a></p>
</div>
</body>
</html>
